(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"1TzJ":function(e,t,i){"use strict";var n=i("p46w"),o=i.n(n),s=i("7Cbv");!function(){var e=1,t=2;function i(i){var n="";switch(i){case e:n=window.name;break;case t:null!=(n=decodeURIComponent(o.a.get("my-application-browser-tab")))&&"undefined"!=n||(n="")}return n}function n(i,n){switch(i){case e:window.name=n;break;case t:o.a.set("my-application-browser-tab",n||"")}}function a(){var o=i(e)||Object(s.a)();n(e,o);var a=i(t),r=(""==a?null:JSON.parse(a))||null;if(null===r||r.timestamp<(new Date).getTime()-5e3||r.guid===o){var d=function(){var e={guid:o,timestamp:(new Date).getTime()};n(t,JSON.stringify(e))};return d(),setInterval(d,500),!1}return!0}window.isDuplicate=function(){return a()},window.addEventListener("beforeunload",(function(){0==a()&&n(t,"")}))}()},adPT:function(e,t,i){"use strict";var n={name:"animated-number",props:{number:{type:Number,default:0},delay:{type:Number,default:20}},data:function(){return{displayNumber:0,interval:!1,initialInterval:!1}},methods:{changeNumberFn:function(){if(this.displayNumber!=this.number){var e=(this.number-this.displayNumber)/10;e=e>=0?Math.ceil(e):Math.floor(e),this.displayNumber=this.displayNumber+e}}},watch:{number:function(){clearInterval(this.interval),this.number!=this.displayNumber&&(this.interval=window.setInterval(this.changeNumberFn,this.delay))}},mounted:function(){this.displayNumber=0,clearInterval(this.initialInterval),this.number!=this.displayNumber&&(this.initialInterval=window.setInterval(this.changeNumberFn,this.delay))}},o=i("KHd+"),s=Object(o.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.displayNumber))])}),[],!1,null,null,null);t.a=s.exports},t0ug:function(e,t,i){"use strict";i.r(t);var n=i("L2JU"),o=i("adPT"),s=i("gFX4"),a=i.n(s),r=i("zWga"),d=i.n(r),c=i("qe5e"),l=(i("b9ZE"),i("k7+O")),u=i.n(l),m=(i("0D4p"),i("akQX")),h=i("V0LQ"),g=(i("lUM2"),i("/MoV")),f=(i("1TzJ"),i("kogc")),v=i("bdEB");function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _=document.createElement("script");_.setAttribute("src","/js/EBML.js"),document.head.appendChild(_),window.io=a.a;var S={components:{AnimatedNumber:o.a,RTCMultiConnection:d.a,AppLogo:v.a},data:function(){return{uuid:null,entity:null,isLoading:!1,prevRoute:null,channel:null,fullScreenItemId:null,meetingRoomId:null,initUrl:"meetings",fallBackRoute:"appMeetingList",newMessages:!1,roomIdAlive:!1,showFlipClock:!0,duplicateTab:!1,fullScreenInOn:!1,footerAutoHide:!1,membersLive:[],videoList:[],socketURL:"aHR0cHM6Ly9zb2NrZXQuc2NyaXB0bWludC5jb206OTAwMS8=",rtcmConnection:null,localVideo:null,localScreenStreamid:null,videoConstraints:{},pageConfigs:{streamGrid:!1,hasAgenda:!0,hasChat:!0,showAgenda:!0,enableAudio:!0,enableVideo:!0,autoplay:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!0,showShareScreenBtn:!0,showRecordingBtn:!1,showHandBtn:!1,enableRecording:!1,isHandUp:!1,recording:!1},meetingRulesHost:{session:{audio:!1,video:!1,screen:!1,oneway:!1},mediaConstraints:{audio:!1,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},meetingRulesGuest:{session:{audio:!1,video:!1,screen:!1,oneway:!1},mediaConstraints:{audio:!1,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},snoozeOpts:[{uuid:5,name:5,type:"m"},{uuid:10,name:10,type:"m"},{uuid:15,name:15,type:"m"},{uuid:30,name:30,type:"m"},{uuid:60,name:1,type:"h"}],recorded:!1,recordingDuration:null}},computed:w(w(w(w({},Object(n.c)("config",["vars","configs","uiConfigs"])),Object(n.c)("user",{userUuid:"uuid"})),Object(n.c)("user",["profile","username","hasPermission"])),{},{user:function(){return{uuid:this.userUuid,username:this.username,name:this.profile.name}},hasVideos:function(){return this.videoList&&this.videoList.length>0?this.videoList.length:0},hasVideosClasses:function(){return this.hasVideos?"has-videos "+(this.hasVideos>3?"has-gt-3-videos":this.hasVideos>1?"has-2-3-videos":"has-1-video"):"has-no-video"},liveMembersCount:function(){return this.membersLive.length-1},startDateTimeIsFuture:function(){var e=this.entity&&this.showFlipClock&&this.isStartDateTimeInFuture();return e?this.startCountDown():window.countdownInterval&&clearInterval(window.countdownInterval),e}}),watch:{liveMembersCount:function(e,t){window.isLiveMeetingDestroyed||e===t||this.meetingRoomCreated(this.entity)}},methods:w(w(w({},Object(n.b)("config",["SetUiConfig"])),Object(n.b)("common",["Init","Get","Custom","GetPreRequisite"])),{},{shareURL:function(){var e=this;if(this.entity){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");t+=this.entity.identifier?"/m/".concat(this.entity.identifier):"/app/live/meetings/".concat(this.entity.uuid),Object(m.d)({title:$t("meeting.user_inviting_msg",{attribute:this.user.name}),url:t},(function(){e.$toasted.success($t("meeting.url_has_been_copied"),e.$toastConfig)}))}},isStartDateTimeInFuture:function(){return this.entity&&this.entity.startDateTime&&moment(this.entity.startDateTime,this.vars.serverDateTimeFormat).isAfter(moment())},startCountDown:function(){var e=this;window.countdownInterval&&clearInterval(window.countdownInterval),window.countdownInterval=window.setInterval((function(){e.isStartDateTimeInFuture()?e.showFlipClock=!0:(e.showFlipClock&&!document.hasFocus()&&Object(m.b)(),e.showFlipClock=!1)}),1e3)},startGetOnlineTimer:function(){var e=this;if(window.getOnlineTimer&&clearTimeout(window.getOnlineTimer),!this.videoList.length){var t={title:$t("misc.refresh_confirm.title"),text:$t("misc.refresh_confirm.text"),showCancelButton:!0,confirmButtonText:$t("misc.refresh_confirm.confirm_btn"),cancelButtonText:$t("misc.refresh_confirm.cancel_btn")};window.getOnlineTimer=setTimeout((function(){swtAlert.fire(t).then((function(t){t.value?window.location.reload():e.startGetOnlineTimer()}))}),15e3)}},startRecording:function(){var e=this;this.pageConfigs.recording=!0,this.recorded=!1;var t=this.rtcmConnection.recorder;t.startRecording();var i=(new Date).getTime();window.recordingDurationInterval&&(this.recordingDuration=null,clearInterval(window.recordingDurationInterval)),window.recordingDurationInterval=window.setInterval((function(){e.recordingDuration=Object(h.a)(((new Date).getTime()-i)/1e3)}),1e3);var n=t.getInternalRecorder();this.rtcmConnection.streamEvents.selectAll().forEach((function(e){"local"!==e.type&&n.addStreams([e.stream])}))},stopRecording:function(){var e=this;this.pageConfigs.recording=!1,this.recorded=!0;var t=this.rtcmConnection.recorder;if(!t)return alert("No recorder found!");t.stopRecording((function(){window.recordingDurationInterval&&(e.recordingDuration=null,clearInterval(window.recordingDurationInterval)),c.getSeekableBlob(t.getBlob(),(function(i){var n=URL.createObjectURL(i),o=document.createElement("a");t.destroy(),t=null,c.invokeSaveAsDialog(i,"meeting_record_"+moment().format(e.vars.serverDateTimeFormat)+".webm"),o.style.display="none",o.href=n,o.download="meeting_record_"+moment().format(e.vars.serverDateTimeFormat)+".webm",document.body.appendChild(o),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(o),e.recorded=!1}),100)}))}))},toggleHandUp:function(){var e=this;window.lowerHandTimer&&clearTimeout(window.lowerHandTimer);var t=this.$refs.videos.find((function(t){return t.id===e.localVideo.id})),i=this.videoList.findIndex((function(t){return t.id===e.localVideo.id}));if(t&&t.srcObject){var n=t.srcObject;this.pageConfigs.isHandUp?(this.pageConfigs.isHandUp=!1,this.videoList[i].isHandUp=!1,this.rtcmConnection.socket.emit("remoteHandToggled",{isHandUp:!1,streamid:n.streamid})):(this.pageConfigs.isHandUp=!0,this.videoList[i].isHandUp=!0,this.rtcmConnection.socket.emit("remoteHandToggled",{isHandUp:!0,streamid:n.streamid}),window.lowerHandTimer=setTimeout((function(){e.toggleHandUp()}),3e4)),this.rtcmConnection.extra.isHandUp=this.pageConfigs.isHandUp,this.rtcmConnection.updateExtraData()}else this.localVideo=null},toggleAudio:function(){var e=this,t=this.$refs.videos.find((function(t){return t.id===e.localVideo.id})),i=this.videoList.findIndex((function(t){return t.id===e.localVideo.id}));if(t&&t.srcObject){var n=t.srcObject;n.getAudioTracks().forEach((function(t){e.pageConfigs.enableAudio?(e.pageConfigs.enableAudio=!1,t.enabled=!1,e.videoList[i].audioMuted=!0,e.rtcmConnection.socket.emit("remoteMutedUnmuted",{audioEnabled:!1,streamid:n.streamid})):(e.pageConfigs.enableAudio=!0,t.enabled=!0,e.videoList[i].audioMuted=!0,e.rtcmConnection.socket.emit("remoteMutedUnmuted",{audioEnabled:!0,streamid:n.streamid}))})),this.rtcmConnection.extra.audioMuted=!this.pageConfigs.enableAudio,this.rtcmConnection.updateExtraData()}else this.localVideo=null},toggleVideo:function(){var e=this,t=this.$refs.videos.find((function(t){return t.id===e.localVideo.id})),i=this.videoList.findIndex((function(t){return t.id===e.localVideo.id}));if(t&&t.srcObject){var n=t.srcObject;n.getVideoTracks().forEach((function(t){e.pageConfigs.enableVideo?(e.pageConfigs.enableVideo=!1,t.enabled=!1,e.videoList[i].videoMuted=!0,e.rtcmConnection.socket.emit("remoteMutedUnmuted",{videoEnabled:!1,streamid:n.streamid})):(e.pageConfigs.enableVideo=!0,t.enabled=!0,e.videoList[i].videoMuted=!1,e.rtcmConnection.socket.emit("remoteMutedUnmuted",{videoEnabled:!0,streamid:n.streamid}))})),this.rtcmConnection.extra.videoMuted=!this.pageConfigs.enableVideo,this.rtcmConnection.updateExtraData()}else this.localVideo=null},toggleRemoteAudio:function(e,t){e.muted?(this.videoList[t].muted=!1,this.$refs.videos[t].muted=!1):(this.videoList[t].muted=!0,this.$refs.videos[t].muted=!0)},toggleEleFullScreen:function(e,t){var i=this,n=this.$refs.videoListEle;this.fullScreenItemId=e.id,this.$fullscreen.toggle(n,{wrap:!1,callback:function(e){i.fullScreenInOn=e}})},toggleFullScreen:function(e){u.a.isEnabled&&(e?u.a.request():u.a.exit())},toggleFooterAutoHide:function(){this.footerAutoHide=!this.footerAutoHide},toggleStreamGrid:function(){this.pageConfigs.streamGrid=!this.pageConfigs.streamGrid},toggleAgenda:function(){this.pageConfigs.showAgenda=!this.pageConfigs.showAgenda},changeFocus:function(e){this.videoList.forEach((function(t){t.maximized=t.id===e.id}))},beforeUnload:function(e){this.localVideo&&window.meetingChannel.whisper("RemovedStream",this.localVideo)},afterJoiningChannel:function(e){this.membersLive=e},newMemberJoining:function(e){this.membersLive.push(e)},memberLeaving:function(e){this.membersLive=this.membersLive.filter((function(t){return t.uuid!==e.uuid}))},meetingStatusChanged:function(e){if(e.uuid===this.entity.uuid){if(this.entity.status===e.status&&!e.delayed)return;this.entity.status=e.status,this.entity.startDateTime=e.startDateTime;var t=e.status;"scheduled"===t&&e.delayed&&(t="delayed");this.$toasted.success($t({live:"meeting.is_live_now",delayed:"meeting.meeting_delayed",cancelled:"meeting.meeting_cancelled",ended:"meeting.meeting_ended"}[t]),this.$toastConfig)}},gotNewMessage:function(){this.configs.chat&&this.configs.chat.enabled&&(this.pageConfigs.showChat&&!this.fullScreenInOn||(this.newMessages=!0,Object(m.b)()))},meetingRoomCreated:function(e){var t=this;this.entity.roomId=e.roomId,this.initMediaAndRtcmConnection(),this.rtcmConnection.checkPresence(this.entity.roomId,(function(e,i){t.roomIdAlive=!!e}))},banAttendee:function(e){var t=this.$refs.videos.find((function(t){return t.id===e.id}));if(t&&t.srcObject){var i=t.srcObject;this.rtcmConnection.removeStream(i.streamid)}e.uuid===this.userUuid&&(this.closeConnectionAndStream(),this.getInitialData()),this.$toasted.info($t("meeting.ban_notification"),this.$toastConfig.info)},streamRemoved:function(e){this.rtcmConnection&&e.id&&this.rtcmConnection.removeStream(e.id),this.rtcmOnStreamEnded(e)},meetingEnded:function(e){this.closeConnectionAndStream(),this.getInitialData()},joinChannel:function(){window.meetingChannel=window.Echo.join("Meeting.".concat(this.uuid)),window.meetingChannel.here(this.afterJoiningChannel).joining(this.newMemberJoining).leaving(this.memberLeaving).listen("MeetingStatusChanged",this.meetingStatusChanged).listen("NewMessage",this.gotNewMessage).listenForWhisper("MeetingRoomCreated",this.meetingRoomCreated).listenForWhisper("RemovedStream",this.streamRemoved).listenForWhisper("BanAttendee",this.banAttendee).listenForWhisper("MeetingEnded",this.meetingEnded)},rtcmOnStream:function(e){var t=this;this.logEvent("On Stream: ",e);var i=this.videoList.find((function(t){return t.id===e.streamid})),n=e.stream.idInstance?JSON.parse(e.stream.idInstance):e.stream;n.isScreen&&"local"===e.type&&(this.localScreenStreamid=e.streamid,e.stream.getTracks().forEach((function(e){e.addEventListener("ended",t.stopSharingScreen)})));if(this.videoList.length>1&&this.recheckLiveParticipants(null),void 0===i){var o=w(w({id:e.streamid,streamUserId:e.userid,muted:"local"===e.type},e.extra),{},{extra:e.extra,maximized:"local"===e.type&&!n.isScreen,local:"local"===e.type,screen:this.localScreenStreamid===e.streamid,status:!0,hasAudio:n.isAudio||n.audio,hasVideo:n.isVideo||n.video||n.isScreen||n.screen});n.isScreen&&(o.videoMuted=!1),this.videoList.push(o),"local"===e.type&&this.localScreenStreamid!==e.streamid&&(this.localVideo=o)}if(this.autoSetVideoMaximized(),this.pageConfigs.enableRecording){var s=this.rtcmConnection.recorder;if(s){var a=s.getInternalRecorder();this.pageConfigs.recording&&a&&a.addStreams([e.stream])}else s=c([e.stream],{type:"video",mimeType:"video/webm",timeSlice:1e3,disableLogs:!1}),this.rtcmConnection.recorder=s;this.rtcmConnection.recorder.streams||(this.rtcmConnection.recorder.streams=[]),this.rtcmConnection.recorder.streams.push(e.stream)}setTimeout((function(){for(var i=0,n=t.$refs.videos.length;i<n;i++)if(t.$refs.videos[i].id===e.streamid){t.$refs.videos[i].srcObject=e.stream;break}}),500),this.isLoading=!1},rtcmOnStreamEnded:function(e){this.recheckLiveParticipants(e),this.autoSetVideoMaximized()},rtcmOnMediaError:function(e){this.isLoading=!1,window.getOnlineTimer&&clearTimeout(window.getOnlineTimer);var t=Object(m.e)(e);this.meetingAction("leave",{error:{name:e.name,title:t.title}},{alert:!1})},rtcmOnMute:function(e){var t=this.videoList.findIndex((function(t){return t.id===e.streamid})),i=this.$refs.videos.find((function(t){return t.id===e.streamid}));"video"===e.muteType?this.videoList[t].videoMuted=!0:"audio"===e.muteType?this.videoList[t].muted=!0:(this.videoList[t].videoMuted=!0,this.videoList[t].muted=!0,i.srcObject=null)},rtcmOnUnmute:function(e){var t=this.videoList.findIndex((function(t){return t.id===e.streamid})),i=this.$refs.videos.find((function(t){return t.id===e.streamid}));"video"===e.unmuteType?this.videoList[t].videoMuted=!1:"audio"===e.unmuteType?this.videoList[t].muted=!1:(this.videoList[t].videoMuted=!1,this.videoList[t].muted=!1,i.srcObject=e)},rtcmOnRemoteMuteUnmute:function(e){var t=this.videoList.findIndex((function(t){return t.id===e.streamid}));this.rtcmConnection.streamEvents[e.streamid].stream;e.hasOwnProperty("audioEnabled")?e.audioEnabled?this.videoList[t].audioMuted=!1:this.videoList[t].audioMuted=!0:e.hasOwnProperty("videoEnabled")&&(e.videoEnabled?this.videoList[t].videoMuted=!1:this.videoList[t].videoMuted=!0)},rtcmOnRemoteHandToggled:function(e){if(e&&e.streamid&&this.rtcmConnection.streamEvents[e.streamid]){var t=this.videoList.findIndex((function(t){return t.id===e.streamid}));this.rtcmConnection.streamEvents[e.streamid].stream;e.hasOwnProperty("isHandUp")&&(e.isHandUp?(this.videoList[t].isHandUp=!0,this.$toasted.info($t("meeting.handup_notification",{attribute:this.videoList[t].name}),this.$toastConfig.info)):this.videoList[t].isHandUp=!1)}},rtcmOnUserIdAlreadyTaken:function(e,t){this.rtcmConnection.userid=t},initMediaAndRtcmConnection:function(){if(!this.rtcmConnection){this.rtcmConnection=new d.a,this.rtcmConnection.socketURL=window.atob(this.socketURL),this.configs.signal&&this.configs.signal.url&&(this.rtcmConnection.socketURL=this.configs.signal.url),this.rtcmConnection.autoCreateMediaElement=!1,this.rtcmConnection.enableLogs=!1;0,this.videoConstraints={width:{ideal:1920},height:{ideal:1080},frameRate:30};var e=this.rtcmConnection.CodecsHandler;this.rtcmConnection.processSdp=function(t){return"vp8".length&&(t=e.preferCodec(t,"vp8".toLowerCase())),t=e.setApplicationSpecificBandwidth(t,{audio:128,video:512,screen:512}),t=e.setVideoBitrates(t,{min:4194304,max:4194304})},this.rtcmConnection.onstream=this.rtcmOnStream,this.rtcmConnection.onstreamended=this.rtcmOnStreamEnded,this.rtcmConnection.onmute=this.rtcmOnMute,this.rtcmConnection.onunmute=this.rtcmOnUnmute,this.rtcmConnection.onMediaError=this.rtcmOnMediaError,this.rtcmConnection.onUserIdAlreadyTaken=this.rtcmOnUserIdAlreadyTaken,this.rtcmConnection.setCustomSocketEvent("remoteMutedUnmuted"),this.rtcmConnection.setCustomSocketEvent("remoteHandToggled")}this.rtcmConnection.iceServers=p(this.configs.iceServers),this.rtcmConnection.session=w({},this.meetingRulesHost.session),this.rtcmConnection.sdpConstraints.mandatory=w({},this.meetingRulesHost.mandatory),this.rtcmConnection.mediaConstraints={video:!!this.meetingRulesHost.mediaConstraints.video&&this.videoConstraints,audio:this.meetingRulesHost.mediaConstraints.audio,screen:this.meetingRulesHost.mediaConstraints.screen}},closeConnectionAndStream:function(){var e=this;this.rtcmConnection&&(this.localVideo&&(this.rtcmConnection.removeStream(this.localVideo.id),window.meetingChannel.whisper("RemovedStream",this.localVideo)),this.rtcmConnection.attachStreams.forEach((function(e){e.stop()})),this.rtcmConnection.getAllParticipants().forEach((function(t){e.rtcmConnection.disconnectWith(t)})),this.rtcmConnection.leave(),this.rtcmConnection.closeSocket(),this.localVideo=null,this.localScreenStreamid=null,this.rtcmConnection.recorder=null,this.rtcmConnection=null),this.videoList=[]},recheckLiveParticipants:function(e){var t=this,i=[],n=this.rtcmConnection?this.rtcmConnection.getAllParticipants():[];this.videoList.forEach((function(t,o){var s=n.findIndex((function(e){return e===t.streamUserId}));(!e||e&&t.id!==e.streamid)&&(t.local||!t.local&&-1!==s)||(t.status=!1),i.push(t)})),this.videoList=i,setTimeout((function(){t.videoList=t.videoList.filter((function(e){return e.status})),t.autoSetVideoMaximized()}),3e3)},autoSetVideoMaximized:function(){if(this.videoList.length>1){if(-1===this.videoList.findIndex((function(e){return!e.local&&e.maximized&&e.status}))){var e=this.videoList.findIndex((function(e){return!e.local}));-1!==e&&(this.videoList=this.videoList.map((function(t,i){return t.maximized=!1,i===e&&(t.maximized=!0),t})))}}else this.videoList.length&&(this.videoList[0].maximized=!0)},openRoom:function(e){var t=this;this.rtcmConnection.session=w({},this.meetingRulesHost.session),this.rtcmConnection.mediaConstraints=w({},this.meetingRulesHost.mediaConstraints),this.rtcmConnection.sdpConstraints.mandatory=w({},this.meetingRulesHost.mandatory),this.rtcmConnection.open(e,(function(i,n,o){t.rtcmConnection.socket.on("remoteMutedUnmuted",t.rtcmOnRemoteMuteUnmute),t.rtcmConnection.socket.on("remoteHandToggled",t.rtcmOnRemoteHandToggled),t.logEvent("Room Opened: ",n),t.isLoading=!1,o?formUtil.handleErrors(o):!0===i&&(window.getOnlineTimer&&clearTimeout(window.getOnlineTimer),t.updatePageConfigs(!0),window.meetingChannel.whisper("MeetingRoomCreated",{roomId:e}),t.$toasted.success($t("meeting.meeting_created"),t.$toastConfig))}))},joinRoom:function(e){var t=this;this.rtcmConnection.session=w({},this.meetingRulesGuest.session),this.rtcmConnection.mediaConstraints=w({},this.meetingRulesGuest.mediaConstraints),this.rtcmConnection.sdpConstraints.mandatory=w({},this.meetingRulesGuest.mandatory),this.rtcmConnection.join(e,(function(e,i,n){t.rtcmConnection.socket.on("remoteMutedUnmuted",t.rtcmOnRemoteMuteUnmute),t.rtcmConnection.socket.on("remoteHandToggled",t.rtcmOnRemoteHandToggled),t.logEvent("Room Joined: ",i),t.isLoading=!1,!1===e||n?formUtil.handleErrors(n):(window.getOnlineTimer&&clearTimeout(window.getOnlineTimer),t.updatePageConfigs(),t.$toasted.success($t("meeting.meeting_joined"),t.$toastConfig))}))},shareScreen:function(){this.isLoading=!0,this.rtcmConnection.addStream({screen:!0})},stopSharingScreen:function(){var e=this;this.isLoading=!0;var t=this.$refs.videos.find((function(t){return t.id===e.localScreenStreamid}));t&&t.srcObject?(t.srcObject.getTracks().forEach((function(t){t.removeEventListener("ended",e.stopSharingScreen),t.enabled=!1,t.stop()})),this.rtcmConnection.removeStream(this.localScreenStreamid),window.meetingChannel.whisper("RemovedStream",t.srcObject),this.localScreenStreamid=null,this.isLoading=!1):(this.localScreenStreamid=null,this.isLoading=!1)},getOnline:function(){var e=this;this.isLoading=!0,this.pageConfigs.showAgenda=!1;this.entity.status;this.startGetOnlineTimer(),this.initMediaAndRtcmConnection(),this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/join"),method:"post"}).then((function(t){e.meetingRoomId=t.meeting.roomId,e.entity=t.meeting,e.updateMeetingTimezone(),e.rtcmConnection.extra={username:e.user.username,name:e.user.name,uuid:e.user.uuid,image:e.profile.image,audioMuted:!e.pageConfigs.enableAudio,videoMuted:!e.pageConfigs.enableVideo,isHandUp:e.pageConfigs.isHandUp},e.rtcmConnection.checkPresence(e.meetingRoomId,(function(t,i){!0===t?e.joinRoom(e.meetingRoomId):e.entity.canModerate?e.openRoom(e.meetingRoomId):(e.isLoading=!1,window.getOnlineTimer&&clearTimeout(window.getOnlineTimer),e.$toasted.error($t("meeting.room_not_found"),e.$toastConfig.error))}))})).catch((function(t){e.isLoading=!1,clearTimeout(window.getOnlineTimer),formUtil.handleErrors(t)}))},kickRemoteUser:function(e,t){var i=this;formUtil.confirmAction().then((function(t){if(t.value){var n=i.$refs.videos.find((function(t){return t.id===e.id}));if(n&&n.srcObject){var o=n.srcObject;i.rtcmConnection.removeStream(o.streamid),window.meetingChannel.whisper("BanAttendee",e),i.Custom({url:"/".concat(i.initUrl,"/").concat(i.uuid,"/invitees/").concat(e.extra.uuid,"/block"),method:"post"}).then((function(e){i.$toasted.success(e.message,i.$toastConfig)})).catch((function(e){formUtil.handleErrors(e)}))}}else t.dismiss,f.c.DismissReason.cancel}))},getOffline:function(){var e=this;this.isLoading=!0,this.meetingAction("leave",null,{alert:"confirm",callback:function(t){e.pageConfigs.showAgenda=!0,e.closeConnectionAndStream()}})},updateMeetingTimezone:function(){this.entity.startDateTime=g.e(this.entity.startDateTime,this.vars.serverDateTimeFormat),this.entity.plannedStartDateTime&&(this.entity.plannedStartDateTime=g.e(this.entity.plannedStartDateTime,this.vars.serverDateTimeFormat))},meetingAction:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{alert:"confirm"},o={alert:"confirm"};n=Object.assign({},o,n);var s=function(o){t.isLoading=!0,i=o||i,t.Custom({url:"/".concat(t.initUrl,"/").concat(t.uuid,"/").concat(e),method:"post",data:i}).then((function(e){t.entity=e.meeting,t.updateMeetingTimezone(),t.$toasted.success(e.message,t.$toastConfig),n.callback&&n.callback(e),t.isLoading=!1})).catch((function(e){t.isLoading=!1,formUtil.handleErrors(e)}))};e?"confirm"===n.alert||!0===n.alert?formUtil.confirmAction().then((function(e){e.value?s():(t.isLoading=!1,e.dismiss,f.c.DismissReason.cancel)})):"input"===n.alert?swtAlert.fire({title:n.title,input:"text",inputPlaceholder:n.inputPlaceholder,showCancelButton:!0,confirmButtonText:"Proceed!",cancelButtonText:"Go Back!"}).then((function(e){if(e.value){var i={};i[n.fieldName]=e.value,s(i)}else t.isLoading=!1,e.dismiss,f.c.DismissReason.cancel})):s():this.isLoading=!1},snooze:function(e){this.meetingAction("snooze",{period:e})},leaveMeeting:function(){this.meetingAction("leave")},cancelMeeting:function(){this.meetingAction("cancel",null,{alert:"input",title:$t("meeting.reason_for_cancellation"),inputPlaceholder:$t("meeting.reason_for_cancellation"),fieldName:"cancellationReason"})},endMeeting:function(){var e=this;this.isLoading=!0,this.meetingAction("end",null,{callback:function(t){e.pageConfigs.showAgenda=!0,e.closeConnectionAndStream(),window.meetingChannel.whisper("MeetingEnded",{status:t.meeting.status})}})},updatePageConfigs:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i={};"video_conference"===this.entity.type.uuid?i={enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!0,showShareScreenBtn:!0,showRecordingBtn:!1,showHandBtn:!0}:"audio_conference"===this.entity.type.uuid?i={enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!1,showShareScreenBtn:!0,showRecordingBtn:!1,showHandBtn:!0}:"webinar"===this.entity.type.uuid?i=t?{enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!0,showShareScreenBtn:!0,showRecordingBtn:!0,showHandBtn:!1}:{enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!1,showEnableVideoBtn:!1,showShareScreenBtn:!1,showRecordingBtn:!1,showHandBtn:!0}:"live_class"===this.entity.type.uuid?i=t?{enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!0,showShareScreenBtn:!0,showRecordingBtn:!0,showHandBtn:!1}:{enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!1,showShareScreenBtn:!1,showRecordingBtn:!1,showHandBtn:!0}:"podcast"===this.entity.type.uuid&&(i=t?{enableAudio:!0,enableVideo:!1,showEnableAudioBtn:!0,showEnableVideoBtn:!1,showShareScreenBtn:!1,showRecordingBtn:!0,showHandBtn:!1}:{enableAudio:!0,enableVideo:!1,showEnableAudioBtn:!1,showEnableVideoBtn:!1,showShareScreenBtn:!1,showRecordingBtn:!1,showHandBtn:!1}),i.showRecordingBtn=!(!t&&!this.entity.canModerate),i.showHandBtn=!0,i.objForEach((function(t,i){return e.pageConfigs[i]=t})),this.rtcmConnection.extra.audioMuted=!this.pageConfigs.enableAudio,this.rtcmConnection.extra.videoMuted=!this.pageConfigs.enableVideo,this.rtcmConnection.extra.isHandUp=this.pageConfigs.isHandUp,this.rtcmConnection.updateExtraData()},updateMeetingRules:function(){this.pageConfigs.enableRecording=!0,"video_conference"===this.entity.type.uuid?(this.meetingRulesHost={session:{audio:!0,video:!0,screen:!1,oneway:!1},mediaConstraints:{audio:!0,video:this.videoConstraints,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},this.meetingRulesGuest={session:{audio:!0,video:!0,screen:!1,oneway:!1},mediaConstraints:{audio:!0,video:this.videoConstraints,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}):"audio_conference"===this.entity.type.uuid?(this.meetingRulesHost={session:{audio:!0,video:!1,screen:!1,oneway:!1},mediaConstraints:{audio:!0,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},this.meetingRulesGuest={session:{audio:!0,video:!1,screen:!1,oneway:!1},mediaConstraints:{audio:!0,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}):"webinar"===this.entity.type.uuid?(this.meetingRulesHost={session:{audio:!0,video:!0,screen:!1,oneway:!0},mediaConstraints:{audio:!0,video:this.videoConstraints,screen:!1},mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},this.meetingRulesGuest={session:{audio:!0,video:!0,screen:!1,oneway:!0},mediaConstraints:{audio:!0,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}):"live_class"===this.entity.type.uuid?(this.meetingRulesHost={session:{audio:!0,video:!0,screen:!1,oneway:!1},mediaConstraints:{audio:!0,video:this.videoConstraints,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}},this.meetingRulesGuest={session:{audio:!0,video:!1,screen:!1,oneway:!1},mediaConstraints:{audio:!0,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}):"podcast"===this.entity.type.uuid&&(this.meetingRulesHost={session:{audio:!0,video:!1,screen:!1,oneway:!0},mediaConstraints:{audio:!0,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},this.meetingRulesGuest={session:{audio:!0,video:!1,screen:!1,oneway:!0},mediaConstraints:{audio:!1,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}})},getInitialData:function(){var e=this;return this.isLoading=!0,window.Echo?this.Get({uuid:this.uuid}).then((function(t){return t.isInstantMeeting&&(e.pageConfigs.hasAgenda=!1),e.entity=t,e.updateMeetingTimezone(),e.updateMeetingRules(),Object(m.a)(),t.roomId&&"live"===t.status&&setTimeout((function(){e.initMediaAndRtcmConnection(),e.rtcmConnection.checkPresence(t.roomId,(function(t,i){e.roomIdAlive=!!t}))}),1e3),e.joinChannel(),t.isInstantMeeting&&!t.isBlocked&&"live"===t.status?e.getOnline():e.isLoading=!1,t})).catch((function(t){return e.isLoading=!1,formUtil.handleErrors(t),e.$router.push({name:e.fallBackRoute}),t})):(this.$toasted.error($t("config.pusher.credential_required"),this.$toastConfig.error),void this.$router.push({name:this.fallBackRoute}))},logEvent:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log";this.rtcmConnection.enableLogs&&("log"===i?console.log(e,t):"error"===i?console.error(e,t):"debug"===i&&console.debug(e,t))},destroyPage:function(){window.countdownInterval&&clearInterval(window.countdownInterval),this.SetUiConfig({pageHeaderShow:!0,pageFooterShow:!0}),this.closeConnectionAndStream(),window.Echo&&(window.meetingChannel&&(window.meetingChannel.stopListening("MeetingStatusChanged"),window.meetingChannel.stopListening("NewMessage")),window.Echo.leave("Meeting.".concat(this.uuid))),u.a.isEnabled&&(u.a.off("change"),u.a.off("error"))},doInit:function(){this.Init({url:this.initUrl}),window.isDuplicate()&&(this.duplicateTab=!0),this.getInitialData()}}),mounted:function(){var e=this;this.$route.params.uuid&&(this.uuid=this.$route.params.uuid),u.a.isEnabled&&(u.a.on("change",(function(){e.SetUiConfig({fullScreen:u.a.isFullscreen})})),u.a.on("error",(function(e){console.error("Failed to enable fullscreen",e)})),this.SetUiConfig({fullScreen:!1})),this.doInit(),window.addEventListener("beforeunload",this.beforeUnload)},created:function(){this.SetUiConfig({pageHeaderShow:!1,pageFooterShow:!1}),navigator.connection&&"cellular"===navigator.connection.type&&navigator.connection.downlinkMax<=.115&&alert("2G is not supported. Please use a better internet service.")},beforeDestroy:function(){window.isMeetingPageDestroyed||(this.isLoading=!0,this.destroyPage(),this.entity&&"live"===this.entity.status&&this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/leave"),method:"post"}),window.isMeetingPageDestroyed=!0)},beforeRouteEnter:function(e,t,i){e.params.uuid?i((function(e){e.prevRoute=t})):i({name:"appMeetingView"===t?t:"AppMeetingList"})},beforeRouteLeave:function(e,t,i){this.isLoading=!0,this.destroyPage(),window.removeEventListener("beforeunload",this.beforeUnload),this.entity&&"live"===this.entity.status?this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/leave"),method:"post"}).then((function(e){window.isMeetingPageDestroyed=!0,i()})).catch((function(e){window.isMeetingPageDestroyed=!0,i()})):(window.isMeetingPageDestroyed=!0,i())},destroyed:function(){}},R=i("zfsR"),O=i("K2Rr"),k=i.n(O),L={mixins:[R.a,S],components:{FlipCountdown:k.a}},x=i("KHd+"),T=Object(x.a)(L,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("base-container",{class:["meeting-page",{"auto-hide-footer":e.footerAutoHide&&e.hasVideos},{pulse:e.pageConfigs.recording}],attrs:{"with-loader":"","is-loading":e.isLoading,"loader-color":e.vars.loaderColor,"overlay-color":e.uiConfigs.pageColorSchemeType,"loader-size":"screen","data-page-background-color":e.uiConfigs.pageBackgroundColor,"data-card-background-color":e.uiConfigs.pageContainerBackgroundColor}},[e.duplicateTab?i("card",{staticClass:"duplicate-tab d-flex justify-content-center align-items-center min-height-90vh",attrs:{shadow:""}},[i("h2",[e._v(e._s(e.$t("meeting.duplicate_tab")))])]):[i("div",{class:["meeting-footer",{"has-videos":e.hasVideos}],attrs:{"data-footer-background-color":e.uiConfigs.leftSidebarColor}},[i("div",{staticClass:"logo-wrapper"},[i("app-logo",{attrs:{place:"sidebar",size:"sm"}})],1),e._v(" "),e.entity&&e.entity.status&&e.videoList.length?i("div",{staticClass:"meeting-actions meeting-actions-center"},[e.localVideo&&e.pageConfigs.showEnableAudioBtn?[e.pageConfigs.enableAudio?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action",attrs:{type:"button",title:e.$t("meeting.mute_audio")},on:{click:e.toggleAudio}},[i("i",{staticClass:"fas fa-microphone"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action disabled-text",attrs:{type:"button",title:e.$t("meeting.unmute_audio")},on:{click:e.toggleAudio}},[i("i",{staticClass:"fas fa-microphone-slash"})])]:e._e(),e._v(" "),e.localVideo&&e.pageConfigs.showEnableVideoBtn?[e.pageConfigs.enableVideo?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action",attrs:{type:"button",title:e.$t("meeting.mute_video")},on:{click:e.toggleVideo}},[i("i",{staticClass:"fas fa-video"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action disabled-text",attrs:{type:"button",title:e.$t("meeting.unmute_video")},on:{click:e.toggleVideo}},[i("i",{staticClass:"fas fa-video-slash"})])]:e._e(),e._v(" "),i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action danger-text",attrs:{type:"button",title:e.$t("meeting.leave_meeting")},on:{click:e.getOffline}},[i("i",{staticClass:"fas fa-phone-slash"})]),e._v(" "),e.pageConfigs.showRecordingBtn?[e.pageConfigs.recording?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action danger-text d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.stop_recording")},on:{click:e.stopRecording}},[i("i",{staticClass:"fas fa-stop"}),e._v(" "),i("span",{staticClass:"recording_time"},[e._v(e._s(e.recordingDuration))])]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.start_recording")},on:{click:e.startRecording}},[i("i",{staticClass:"fas fa-circle"})])]:e._e(),e._v(" "),e.pageConfigs.showShareScreenBtn?[e.localScreenStreamid?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action disabled-text d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.stop_sharing_screen")},on:{click:e.stopSharingScreen}},[i("i",{staticClass:"fas fa-minus-square"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.share_screen")},on:{click:e.shareScreen}},[i("i",{staticClass:"fas fa-desktop"})])]:e._e(),e._v(" "),e.pageConfigs.showHandBtn?[e.pageConfigs.isHandUp?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action success-text d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.lower_hand")},on:{click:e.toggleHandUp}},[i("i",{staticClass:"far fa-hand-paper"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.raise_hand")},on:{click:e.toggleHandUp}},[i("i",{staticClass:"fas fa-hand-paper"})])]:e._e()],2):e._e(),e._v(" "),i("div",{staticClass:"meeting-actions meeting-actions-right"},[e.entity?[e.entity.status&&e.videoList.length?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],class:["btn action grid-toggle-btn d-none d-md-inline-block",{"disabled-text":e.pageConfigs.streamGrid}],attrs:{type:"button",title:e.$t(e.pageConfigs.streamGrid?"meeting.show_fullscreen":"meeting.show_as_grid")},on:{click:e.toggleStreamGrid}},[i("i",{staticClass:"fas fa-th-large"})]):e._e(),e._v(" "),i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action",attrs:{type:"button",title:e.$t("general.share")},on:{click:e.shareURL}},[i("i",{staticClass:"fas fa-share-alt"})]),e._v(" "),e.configs.chat&&e.configs.chat.enabled&&e.entity.config&&e.entity.config.enableComments&&e.subscriptions&&e.subscriptions.userPrivate&&!e.entity.isBlocked?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],class:["btn action chats-toggle-btn",{pulse:e.totalUnreadMessages&&e.totalUnreadMessages>0&&!e.isChatBoxShown}],attrs:{type:"button",title:e.$t(e.isChatBoxShown?"global.hide":"global.show",{attribute:e.$t("chat.chats")})},on:{click:e.toggleChatBox}},[i("i",{class:[e.isChatBoxShown?"fas fa-comment-slash":"far fa-comment"]}),e._v(" "),e.totalUnreadMessages&&e.totalUnreadMessages>0?i("span",{staticClass:"text-success unread-count"},[e._v(e._s(e.totalUnreadMessages))]):e._e()]):e._e()]:e._e(),e._v(" "),i("base-dropdown",{staticClass:"more-actions",attrs:{tag:"div",direction:"up","menu-classes":"show-dropdown-up",position:"right"}},[i("button",{staticClass:"btn action more-actions-btn",attrs:{slot:"title",type:"button"},slot:"title"},[i("i",{staticClass:"fas fa-ellipsis-v"})]),e._v(" "),e.entity&&e.entity.status&&e.videoList.length?e._e():i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){return e.$router.push({name:"appMeetingList"})}}},[i("i",{staticClass:"fas fa-chevron-left"}),e._v(" "+e._s(e.$t("general.back")))]),e._v(" "),e.entity&&e.entity.status&&e.entity.canModerate&&"live"===e.entity.status?i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.endMeeting}},[i("i",{staticClass:"fas fa-calendar-times"}),e._v(" "+e._s(e.$t("meeting.end_meeting")))]):e._e(),e._v(" "),e.pageConfigs.hasAgenda?i("button",{staticClass:"dropdown-item agenda-toggle-btn",attrs:{type:"button"},on:{click:e.toggleAgenda}},[i("i",{staticClass:"fas fa-quote-left"}),e._v(" "+e._s(e.$t(e.pageConfigs.showAgenda?"global.hide":"global.show",{attribute:e.$t("general.agenda")})))]):e._e(),e._v(" "),i("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:e.toggleFooterAutoHide}},[i("i",{staticClass:"fas fa-hourglass-start"}),e._v(" "+e._s(e.$t(e.footerAutoHide?"meeting.toggle_autohide_off":"meeting.toggle_autohide_on")))]),e._v(" "),e.uiConfigs.fullScreen?i("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:function(t){return e.toggleFullScreen(!1)}}},[i("i",{staticClass:"fas fa-compress"}),e._v(" "+e._s(e.$t("config.ui.toggle_fullscreen")))]):i("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:function(t){return e.toggleFullScreen(!0)}}},[i("i",{staticClass:"fas fa-expand"}),e._v(" "+e._s(e.$t("config.ui.toggle_fullscreen")))])])],2)]),e._v(" "),i("div",{class:["agenda-streams-container",{"has-agenda":e.pageConfigs.hasAgenda},{"agenda-visible":e.pageConfigs.showAgenda}]},[e.pageConfigs.hasAgenda&&e.entity&&!e.entity.isBlocked?[i("card",{staticClass:"agenda-container",attrs:{shadow:"","body-classes":"agenda-wrapper"}},[i("div",{staticClass:"meeting-agenda-container"},[i("vue-scroll",{ref:"vue-scroll-agenda",attrs:{id:"vue-scroll-agenda"}},[e.entity?[e._m(0),e._v(" "),i("div",{staticClass:"text-muted mt-3"},[e._m(1),e._v(" "),e._m(2)]),e._v(" "),i("view-paragraph",{staticClass:"mt-3",attrs:{label:e.$t("meeting.props.agenda"),value:e.entity.agenda}}),e._v(" "),e.entity.description?i("view-paragraph",{staticClass:"mt-3",attrs:{label:e.$t("meeting.props.description"),value:e.entity.description,html:""}}):e._e(),e._v(" "),e.entity.attachments?i("view-uploads",{class:["mt-3",e.uiConfigs.colorSchemeType],attrs:{label:e.$t("upload.attachments"),"name-label":e.$t("upload.attachment"),value:e.entity.attachments,"download-button-classes":"text-gray","url-prefix":"/meetings/"+e.uuid+"/downloads"}}):e._e()]:e._e()],2)],1)])]:e._e(),e._v(" "),i("div",{class:["streams-container",{"fullpage-stream":!e.pageConfigs.streamGrid}]},[i("div",{ref:"videoListEle",class:["video-list",e.hasVideosClasses]},[e.hasVideos?e._l(e.videoList,(function(t,n){return i("div",{key:""+t.uuid+t.id,class:["video-item video-card",{maximized:t.maximized},{local:t.local},{screen:t.screen},{"fullscreen-item":t.id===e.fullScreenItemId},{"hand-up":t.isHandUp},{"audio-muted":t.audioMuted},{"video-muted":t.videoMuted||!t.hasVideo},{"no-stream":!t.status}],on:{dblclick:function(i){return e.changeFocus(t)}}},[i("div",{staticClass:"video-wrapper"},[i("video",{ref:"videos",refInFor:!0,class:[{"no-poster":t.status&&!t.videoMuted}],attrs:{autoplay:"",playsinline:"",id:t.id,poster:t.status?null:"/images/video/no-stream.jpg"},domProps:{muted:t.muted}})]),e._v(" "),i("div",{staticClass:"caption"},[i("h6",[i("span",{class:["text-xs mr-1",{"text-success":t.status},{"text-danger":!t.status}]},[i("i",{staticClass:"fas fa-circle"})]),e._v(" "),t.local?[e._v("\n                                        "+e._s(t.screen?e.$t("meeting.your_screen"):e.$t("meeting.you"))+"\n                                    ")]:[e._v("\n                                        "+e._s(t.screen?""+t.name+e.$t("meeting.screen"):t.name)+"\n                                    ")],e._v(" "),t.status?e._e():i("span",{staticClass:"bracketed text-danger"},[e._v(e._s(e.$t("meeting.left")))])],2)]),e._v(" "),t.local?t.local&&t.isHandUp?i("div",{staticClass:"custom-controls-wrapper"},[i("div",{staticClass:"custom-controls"},[i("div",{staticClass:"status-icon"},[i("i",{staticClass:"fas fa-hand-paper enabled-text"})])])]):e._e():i("div",{staticClass:"custom-controls-wrapper"},[i("div",{staticClass:"custom-controls"},[t.isHandUp?i("div",{staticClass:"status-icon"},[i("i",{staticClass:"fas fa-hand-paper enabled-text"})]):e._e(),e._v(" "),t.audioMuted&&!t.videoMuted?i("div",{staticClass:"status-icon"},[i("i",{staticClass:"fas fa-microphone-slash disabled-text"})]):e._e(),e._v(" "),e.entity.canModerate?i("button",{on:{click:function(i){return e.kickRemoteUser(t,n)}}},[i("i",{staticClass:"fas fa-ban enabled-text"})]):e._e(),e._v(" "),i("button",{on:{click:function(i){return e.toggleRemoteAudio(t,n)}}},[i("i",{class:["fas",{"fa-volume-up enabled-text":!t.muted},{"fa-volume-off disabled-text":t.muted}]})])])])])})):i("card",{staticClass:"video-item wait-box maximized",attrs:{shadow:""}},[e.entity&&!e.entity.isBlocked?["scheduled"===e.entity.status?[e.startDateTimeIsFuture?i("flip-countdown",{staticClass:"my-3",attrs:{deadline:e.entity.startDateTime}}):[e.entity.canModerate?[i("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                                            "+e._s(e.$t("meeting.waiting_for_you_to_start"))+"\n                                        ")]),e._v(" "),i("div",{staticClass:"d-flex justify-content-center my-3"},[i("base-button",{attrs:{type:"button",design:"primary",size:"lg"},on:{click:e.getOnline}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("meeting.get_live")})))])],1)]:i("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                                        "+e._s(e.$t("meeting.starting_any_time_now"))+"\n                                    ")])],e._v(" "),i("div",{staticClass:"text-center my-3"},[i("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("meeting.scheduled_for")))]),i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"text-muted-lg m-l-5",attrs:{title:e._f("momentDateTime")(e.entity.startDateTime)}},[e._v(e._s(e._f("momentCalendar")(e.entity.startDateTime,{sameElse:e.vars.defaultDateTimeFormat})))])]),e._v(" "),e.liveMembersCount>0?i("div",{staticClass:"text-muted text-center my-3"},[i("span",{staticClass:"text-xs text-success mr-1"},[i("i",{staticClass:"fas fa-circle"})]),e._v(" "),i("animated-number",{attrs:{number:e.liveMembersCount,delay:100}}),e._v(" "),e.liveMembersCount>1?i("span",[e._v(e._s(e.$t("meeting.members_online")))]):i("span",[e._v(e._s(e.$t("meeting.member_online")))])],1):e._e(),e._v(" "),e.entity.canModerate?[i("div",{staticClass:"d-flex justify-content-center my-3"},[i("base-button",{attrs:{type:"button",design:"gray-darker",size:"sm"},on:{click:e.cancelMeeting}},[i("i",{staticClass:"fas fa-times m-r-5"}),e._v(" "+e._s(e.$t("meeting.cancel")))]),e._v(" "),i("base-dropdown",{attrs:{tag:"div",size:"sm",direction:"up"}},[i("base-button",{attrs:{slot:"title",type:"button",design:"gray-darker",size:"sm","data-toggle":"dropdown",role:"button"},slot:"title"},[i("i",{staticClass:"far fa-clock m-r-5"}),e._v(" "),i("span",{staticClass:"nav-link-inner--text"},[e._v(e._s(e.$t("meeting.snooze")))]),e._v(" "),i("i",{staticClass:"fas fa-chevron-up m-l-5"})]),e._v(" "),e._l(e.snoozeOpts,(function(t){return i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(i){return e.snooze(t.uuid)}}},[e._v(e._s(t.name)+" "+e._s(e.$t("list.general.durations."+t.type)))])}))],2)],1)]:e._e()]:"live"===e.entity.status?[e.roomIdAlive?[i("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                                        "+e._s(e.$t("meeting.is_live_now"))+"\n                                    ")]),e._v(" "),i("div",{staticClass:"d-flex justify-content-center my-3"},[i("base-button",{attrs:{type:"button",design:"primary",size:"lg"},on:{click:e.getOnline}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("meeting.get_live")})))])],1)]:[e.entity.canModerate?[i("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                                            "+e._s(e.$t("meeting.waiting_for_you_to_start"))+"\n                                        ")]),e._v(" "),i("div",{staticClass:"d-flex justify-content-center my-3"},[i("base-button",{attrs:{type:"button",design:"primary",size:"lg"},on:{click:e.getOnline}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("meeting.get_live")})))])],1)]:i("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                                        "+e._s(e.$t("meeting.starting_any_time_now"))+"\n                                    ")])],e._v(" "),e.liveMembersCount>0?i("div",{staticClass:"text-muted text-center my-3"},[i("span",{staticClass:"text-xs text-success mr-1"},[i("i",{staticClass:"fas fa-circle"})]),e._v(" "),i("animated-number",{attrs:{number:e.liveMembersCount,delay:100}}),e._v(" "),e.liveMembersCount>1?i("span",[e._v(e._s(e.$t("meeting.members_online")))]):i("span",[e._v(e._s(e.$t("meeting.member_online")))])],1):e._e()]:"cancelled"===e.entity.status?[i("h4",{staticClass:"text-muted text-center my-3"},[e._v("\n                                    "+e._s(e.$t("meeting.meeting_cancelled"))+"\n                                ")]),e._v(" "),i("div",{staticClass:"d-flex justify-content-center"},[i("base-button",{attrs:{type:"button",design:"light",size:"lg"},on:{click:function(t){return e.$router.push({name:"appMeetingList"})}}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("general.go_back")})))])],1)]:"ended"===e.entity.status?[i("h4",{staticClass:"text-muted text-center my-3"},[e._v("\n                                    "+e._s(e.$t("meeting.meeting_ended"))+"\n                                ")]),e._v(" "),i("div",{staticClass:"d-flex justify-content-center"},[i("base-button",{attrs:{type:"button",design:"light",size:"lg"},on:{click:function(t){return e.$router.push({name:"appMeetingList"})}}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("general.go_back")})))])],1)]:e._e()]:[i("h3",{staticClass:"text-center text-danger my-3"},[e._v("\n                                "+e._s(e.$t("meeting.not_allowed"))+"\n                            ")])]],2)],2)])],2),e._v(" "),e.configs.chat&&e.configs.chat.enabled?i("div",{staticClass:"chat-box-container"},[e.entity&&e.entity.config&&e.entity.config.enableComments&&!e.entity.isBlocked&&e.isChatBoxShown?i("chat-box",{attrs:{"box-visibility":e.isChatBoxShown,meeting:e.entity,channel:e.subscriptions.userPrivate},on:{boxHidden:function(t){e.isChatBoxShown=!1},boxShown:function(t){e.isChatBoxShown=!0}}}):e._e()],1):e._e()]],2)}),[function(){var e=this.$createElement;return(this._self._c||e)("h4",{staticClass:"meeting-title"},[this._v(this._s(this.entity.title))])},function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.$t("meeting.props.type"))+": "+this._s(this.entity.type.name)+",")])},function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.$t("meeting.meeting_category.category"))+": "+this._s(this.entity.category.name))])}],!1,null,null,null);t.default=T.exports}}]);
//# sourceMappingURL=live.js.map?id=20a04ee0128c1308e924